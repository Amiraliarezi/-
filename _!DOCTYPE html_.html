<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ø³Ø§Ù…Ø§Ù†Ù‡ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ­ØµÛŒÙ„ÛŒ Ùˆ Ø´ØºÙ„ÛŒ</title>

<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;font-family:'Vazirmatn',sans-serif}
body{
    margin:0;
    background:linear-gradient(135deg,#667eea,#764ba2);
    direction:rtl;
    overflow-x:hidden;
}
.container{
    max-width:1100px;
    margin:auto;
    padding:40px 20px;
}
header{
    text-align:center;
    color:white;
    margin-bottom:40px;
    animation: fadeDown 1s ease forwards;
}
.card{
    background:rgba(255,255,255,.93);
    border-radius:20px;
    padding:25px;
    margin-bottom:30px;
    box-shadow:0 15px 40px rgba(0,0,0,.25);
    opacity:0;
    transform:translateY(50px);
    transition: all 0.7s ease;
}
.card.show{
    opacity:1;
    transform:translateY(0);
}
.card h2{color:#5a2ea6; margin-bottom:15px;}
textarea,select,input{
    width:100%;
    padding:12px;
    margin-top:10px;
    border-radius:10px;
    border:1px solid #ccc;
    transition:0.3s;
}
textarea:focus,select:focus,input:focus{
    border-color:#764ba2;
    box-shadow:0 0 10px rgba(118,75,162,0.3);
    outline:none;
}
button{
    margin-top:15px;
    background:linear-gradient(135deg,#667eea,#764ba2);
    color:white;
    border:none;
    padding:12px;
    width:100%;
    font-size:16px;
    border-radius:12px;
    cursor:pointer;
    transition:0.3s;
}
button:hover{
    transform:scale(1.05);
    box-shadow:0 8px 20px rgba(0,0,0,.3);
}
#chatBox{
    height:280px;
    overflow-y:auto;
    background:#f4f4f4;
    border-radius:10px;
    padding:10px;
    margin-bottom:10px;
}
.msg-user, .msg-bot{
    margin-bottom:10px;
    animation: fadeIn 0.5s ease forwards;
}
.msg-user{color:#2c3e50;}
.msg-bot{color:#8e44ad;}
footer{
    text-align:center;
    color:white;
    margin-top:40px;
    opacity:.85;
}
@keyframes fadeIn{
    from {opacity:0; transform:translateY(10px);}
    to {opacity:1; transform:translateY(0);}
}
@keyframes fadeDown{
    from {opacity:0; transform:translateY(-20px);}
    to {opacity:1; transform:translateY(0);}
}
</style>
</head>

<body>
<div class="container">

<header>
<h1>ğŸ¤– Ø³Ø§Ù…Ø§Ù†Ù‡ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ­ØµÛŒÙ„ÛŒ Ùˆ Ø´ØºÙ„ÛŒ</h1>
<p>Ø§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø´ØªÙ‡ Ù†Ù‡Ù… ØªØ§ Ú©Ø§Ø±Ø¯Ø§Ù†ÛŒ Ùˆ Ù…Ø³ÛŒØ± Ø´ØºÙ„ÛŒ</p>
</header>

<!-- Ù¾Ø§ÛŒÙ‡ Ù†Ù‡Ù… -->
<div class="card">
<h2>ğŸ“ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø´ØªÙ‡ Ù¾Ø§ÛŒÙ‡ Ù†Ù‡Ù…</h2>
<p>ÙÙ‚Ø· Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¹Ù„Ø§Ù‚Ù‡ØŒ Ù…Ù‡Ø§Ø±Øª Ùˆ Ø¯Ø±ÙˆØ³ Ù‚ÙˆÛŒ</p>
<textarea id="grade9" rows="4"
placeholder="Ø¹Ù„Ø§ÛŒÙ‚ØŒ Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ Ù‚ÙˆÛŒØŒ Ù…Ù‡Ø§Ø±Øªâ€ŒÙ‡Ø§ Ùˆ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³..."></textarea>
<button onclick="sendCustom('grade9')">ØªØ­Ù„ÛŒÙ„ Ùˆ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø±Ø´ØªÙ‡</button>
</div>

<!-- Ù…Ø³ÛŒØ± ØªØ­ØµÛŒÙ„ÛŒ Ùˆ Ø´ØºÙ„ÛŒ -->
<div class="card">
<h2>ğŸ’¼ ØªØ­Ù„ÛŒÙ„ Ù…Ø³ÛŒØ± ØªØ­ØµÛŒÙ„ÛŒ Ùˆ Ø´ØºÙ„ÛŒ</h2>
<textarea id="career" rows="4"
placeholder="Ø±Ø´ØªÙ‡ØŒ Ù…Ù‚Ø·Ø¹ØŒ Ø¹Ù„Ø§ÛŒÙ‚ØŒ Ù‡Ø¯ÙØª (Ø¨Ø§Ø²Ø§Ø± Ú©Ø§Ø±ØŒ Ù…Ù‡Ø§Ø¬Ø±ØªØŒ Ù…Ù‡Ø§Ø±Øª) Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³..."></textarea>
<button onclick="sendCustom('career')">ØªØ­Ù„ÛŒÙ„ Ù…Ø³ÛŒØ±</button>
</div>

<!-- Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ø¯Ø±Ø³ÛŒ -->
<div class="card">
<h2>ğŸ“š Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ Ø¯Ø±Ø³ÛŒ (Ú©Ù†Ú©ÙˆØ± Ùˆ Ú©Ø§Ø±Ø¯Ø§Ù†ÛŒ)</h2>

<select id="konkurField">
<option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø³ÛŒØ±</option>
<option>Ø±ÛŒØ§Ø¶ÛŒ (Ú©Ù†Ú©ÙˆØ± Ø³Ø±Ø§Ø³Ø±ÛŒ)</option>
<option>ØªØ¬Ø±Ø¨ÛŒ (Ú©Ù†Ú©ÙˆØ± Ø³Ø±Ø§Ø³Ø±ÛŒ)</option>
<option>Ø§Ù†Ø³Ø§Ù†ÛŒ (Ú©Ù†Ú©ÙˆØ± Ø³Ø±Ø§Ø³Ø±ÛŒ)</option>
<option>Ù‡Ù†Ø±</option>
<option>Ø²Ø¨Ø§Ù†</option>
<option>ÙÙ†ÛŒâ€ŒÙˆØ­Ø±ÙÙ‡â€ŒØ§ÛŒ / Ú©Ø§Ø±Ø¯Ø§Ù†Ø´ (ÙÙ‚Ø· Ú©Ø§Ø±Ø¯Ø§Ù†ÛŒ)</option>
</select>

<select id="studyLevel">
<option value="">ÙˆØ¶Ø¹ÛŒØª ØªØ­ØµÛŒÙ„ÛŒ</option>
<option>Ù¾Ø§ÛŒÙ‡ Ø¯ÙˆØ§Ø²Ø¯Ù‡Ù…</option>
<option>Ù¾Ø´Øª Ú©Ù†Ú©ÙˆØ±ÛŒ</option>
<option>Ø¯ÛŒÙ¾Ù„Ù… ÙÙ†ÛŒ â€“ Ù…ØªÙ‚Ø§Ø¶ÛŒ Ú©Ø§Ø±Ø¯Ø§Ù†ÛŒ</option>
</select>

<textarea id="studyInfo" rows="4"
placeholder="Ø³Ø·Ø­ Ø¯Ø±ÙˆØ³ ÛŒØ§ Ù…Ù‡Ø§Ø±Øªâ€ŒÙ‡Ø§ØŒ Ø³Ø§Ø¹Øª Ù…Ø·Ø§Ù„Ø¹Ù‡ ÛŒØ§ Ú©Ø§Ø± Ø¹Ù…Ù„ÛŒØŒ Ùˆ Ù‡Ø¯ÙØª Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³"></textarea>

<button onclick="sendStudyPlan()">Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡ÙˆØ´Ù…Ù†Ø¯</button>
</div>

<!-- Ú†Øª -->
<div class="card">
<h2>ğŸ’¬ Ú¯ÙØªâ€ŒÙˆÚ¯ÙˆÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ø§ Ù…Ø´Ø§ÙˆØ± Ù‡ÙˆØ´Ù…Ù†Ø¯</h2>
<div id="chatBox"></div>
<input id="chatInput" placeholder="Ø³Ø¤Ø§Ù„Øª Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³...">
<button onclick="sendChat()">Ø§Ø±Ø³Ø§Ù„</button>
</div>

<footer>
Ø§Ø±Ø§Ø¦Ù‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· <b>Ø§Ù…ÛŒØ±Ø¹Ù„ÛŒ Ø­Ø§Ø¬ÛŒ Ø­Ø³Ù† Ø¹Ø§Ø±Ø¶</b> Ùˆ <b>Ø§Ù…ÛŒØ±Ù…Ø­Ù…Ø¯ Ù…ÛŒØ±</b>
</footer>

</div>

<script>
window.addEventListener("DOMContentLoaded",()=>{
    const cards=document.querySelectorAll(".card");
    cards.forEach((card,i)=>{
        setTimeout(()=>card.classList.add("show"), i*200);
    });
});

async function sendMessage(message){
    const chatBox=document.getElementById("chatBox");
    chatBox.innerHTML+=`<div class="msg-user"><b>Ø´Ù…Ø§:</b> ${message}</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;

    // ØªÙˆØ¬Ù‡: Ø§ÛŒÙ† URL Ø¨Ø§ÛŒØ¯ Ø³Ø±ÙˆØ± ÙˆØ§Ù‚Ø¹ÛŒ Ø´Ù…Ø§ Ø¨Ø§Ø´Ø¯
    const res=await fetch("http://127.0.0.1:5000/chat",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({message})
    });

    const data=await res.json();
    chatBox.innerHTML+=`<div class="msg-bot"><b>Ù…Ø´Ø§ÙˆØ±:</b> ${data.reply}</div>`;
    chatBox.scrollTop=chatBox.scrollHeight;
}

function sendChat(){
    const input=document.getElementById("chatInput");
    if(input.value.trim()){
        sendMessage(input.value);
        input.value="";
    }
}

function sendCustom(id){
    const text=document.getElementById(id).value;
    if(text.trim()) sendMessage(text);
}

function sendStudyPlan(){
    const field=document.getElementById("konkurField").value;
    const level=document.getElementById("studyLevel").value;
    const info=document.getElementById("studyInfo").value;

    if(!field||!level||!info){
        alert("Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ú©Ø§Ù…Ù„ Ú©Ù†");
        return;
    }

    let guide="";
    if(field.includes("ÙÙ†ÛŒ")){
        guide=`Ø§ÛŒÙ† ÙØ±Ø¯ ÙÙ†ÛŒâ€ŒØ­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø§Ø³Øª Ùˆ ÙÙ‚Ø· Ù‚ØµØ¯ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù…Ù‚Ø·Ø¹ Ú©Ø§Ø±Ø¯Ø§Ù†ÛŒ Ø¯Ø§Ø±Ø¯.
Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¨Ø§ÛŒØ¯ Ù…Ù‡Ø§Ø±Øªâ€ŒÙ…Ø­ÙˆØ±ØŒ Ø¹Ù…Ù„ÛŒØŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ùˆ Ù…Ø·Ø§Ø¨Ù‚ Ø¨Ø§Ø²Ø§Ø± Ú©Ø§Ø± Ø§ÛŒØ±Ø§Ù† Ø¨Ø§Ø´Ø¯.`;
    }

    const message=`Ø¨Ø±Ø§ÛŒ Ù…Ù† ÛŒÚ© Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¯Ù‚ÛŒÙ‚ Ø·Ø±Ø§Ø­ÛŒ Ú©Ù†:
Ù…Ø³ÛŒØ±: ${field}
ÙˆØ¶Ø¹ÛŒØª: ${level}
ØªÙˆØ¶ÛŒØ­Ø§Øª: ${info}

${guide}`;
    sendMessage(message);
}
</script>

</body>
</html>
